---
layout: default
custom_css:
- trilhos_beta.css
---
{%include navigation.html%}

<section class="hero" aria-labelledby="hero-heading">
    <h1 id="hero-heading">Os meus trilhos</h1>
    <p>Capturing the majesty of peaks and valleys through the lens</p>
</section>


   <!-- Main Section -->    
<section class="main-section" role="main" aria-label="Blog posts">
    <div class="post-cards" id="post-container">
        <!-- Posts will be loaded here -->
      </div>
      <div id="loading" style="display: none; text-align: center; padding: 20px;">
        <p>Loading more posts...</p>
      </div>
    </section>

<!-- Floating Scroll-to-Top Button -->
<button id="scrollToTop" class="scroll-to-top" aria-label="Scroll to top" title="Scroll to top">
    <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
        <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
    </svg>
</button>

    <footer>
      <p id="footer">&copy; 2025 Nuno Rodrigues. No rights reserved_made by </p>
    </footer>

    <!-- Hidden post templates -->
    <script id="all-posts" type="application/json">
    [
      {% for post in site.posts %}
      {
        "html": {% capture post_html %}{% include card_post_beta.html %}{% endcapture %}"{{ post_html | strip_newlines | replace: '"', '\"' }}"
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
    </script>

    <script>
    (function() {
      const postsPerPage = 7;
      let currentIndex = 0;
      let allPosts = [];
      let isLoading = false;

      // Parse all posts from JSON
      try {
        const postsData = document.getElementById('all-posts').textContent;
        allPosts = JSON.parse(postsData);
      } catch (e) {
        console.error('Error parsing posts:', e);
      }

      const container = document.getElementById('post-container');
      const loadingIndicator = document.getElementById('loading');

      // Load initial posts
      function loadPosts() {
        if (isLoading || currentIndex >= allPosts.length) return;
        
        isLoading = true;
        loadingIndicator.style.display = 'block';

        // Simulate slight delay for smooth UX
        setTimeout(() => {
          const endIndex = Math.min(currentIndex + postsPerPage, allPosts.length);
          
          for (let i = currentIndex; i < endIndex; i++) {
            container.insertAdjacentHTML('beforeend', allPosts[i].html);
          }
          
          currentIndex = endIndex;
          isLoading = false;
          loadingIndicator.style.display = 'none';
        }, 300);
      }

      // Detect when user scrolls near bottom
      function handleScroll() {
        if (isLoading) return;
        
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const windowHeight = window.innerHeight;
        const docHeight = document.documentElement.scrollHeight;
        
        // Trigger when 200px from bottom
        if (scrollTop + windowHeight >= docHeight - 200) {
          loadPosts();
        }
      }

      // Initialize
      loadPosts(); // Load first 7 posts
      window.addEventListener('scroll', handleScroll);
    })();
    </script>

    <script>
        // Mobile menu toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const navMenu = document.getElementById('navMenu');
        const body = document.body;

        mobileToggle.addEventListener('click', function() {
            this.classList.toggle('active');
            navMenu.classList.toggle('active');
            body.classList.toggle('menu-open');
        });

        // Close menu when clicking on a link
        const navLinks = document.querySelectorAll('.nav-menu a');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                mobileToggle.classList.remove('active');
                navMenu.classList.remove('active');
                body.classList.remove('menu-open');
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.nav-container')) {
                mobileToggle.classList.remove('active');
                navMenu.classList.remove('active');
                body.classList.remove('menu-open');
            }
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>

 


</body>
</html>
