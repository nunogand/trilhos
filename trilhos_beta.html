---
layout: blog
custom_css:
- trilhos_beta.css
---
<!-- Hero Section -->
    <section class="hero" id="home">
        <h1>Mountain Photography</h1>
        <p>Capturing the majesty of peaks and valleys through the lens</p>
    </section>

   <!-- Main Section -->    
    <section class="main-section" id="gallery">
      <div class="main-content">
      <div class="post-cards" id="post-container">
        <!-- Posts will be loaded here -->
      </div>
      <div id="loading" style="display: none; text-align: center; padding: 20px;">
        <p>Loading more posts...</p>
      </div>
    </section>
    <footer>
      <p>&copy; 2025 Nuno Rodrigues. No rights reserved_made by </p>
    </footer>

    <!-- Hidden post templates -->
    <script id="all-posts" type="application/json">
    [
      {% for post in site.posts %}
      {
        "html": {% capture post_html %}{% include card_post_beta.html %}{% endcapture %}"{{ post_html | strip_newlines | replace: '"', '\"' }}"
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ]
    </script>

    <script>
    (function() {
      const postsPerPage = 7;
      let currentIndex = 0;
      let allPosts = [];
      let isLoading = false;

      // Parse all posts from JSON
      try {
        const postsData = document.getElementById('all-posts').textContent;
        allPosts = JSON.parse(postsData);
      } catch (e) {
        console.error('Error parsing posts:', e);
      }

      const container = document.getElementById('post-container');
      const loadingIndicator = document.getElementById('loading');

      // Load initial posts
      function loadPosts() {
        if (isLoading || currentIndex >= allPosts.length) return;
        
        isLoading = true;
        loadingIndicator.style.display = 'block';

        // Simulate slight delay for smooth UX
        setTimeout(() => {
          const endIndex = Math.min(currentIndex + postsPerPage, allPosts.length);
          
          for (let i = currentIndex; i < endIndex; i++) {
            container.insertAdjacentHTML('beforeend', allPosts[i].html);
          }
          
          currentIndex = endIndex;
          isLoading = false;
          loadingIndicator.style.display = 'none';
        }, 300);
      }

      // Detect when user scrolls near bottom
      function handleScroll() {
        if (isLoading) return;
        
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const windowHeight = window.innerHeight;
        const docHeight = document.documentElement.scrollHeight;
        
        // Trigger when 200px from bottom
        if (scrollTop + windowHeight >= docHeight - 200) {
          loadPosts();
        }
      }

      // Initialize
      loadPosts(); // Load first 7 posts
      window.addEventListener('scroll', handleScroll);
    })();
    </script>
</body>
</html>
