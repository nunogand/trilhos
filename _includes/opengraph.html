<!-- Article specific meta tags -->
{% if page.layout == 'post' or page.type == 'article' %}
<meta property="article:publisher" content="{{ site.facebook_page | default: '' }}" />
<meta property="article:section" content="{{ page.category | default: 'Blog' }}" />
{% endif %}

<!-- Image specific meta tags -->
{% if page.image %}
<meta name="twitter:image:width" content="1200" />
<meta name="twitter:image:height" content="630" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:image:type" content="image/jpeg" />
{% endif %}

<!-- Existing properties with improvements -->
<meta property="og:title" content="{{ site.title | default: page.title }}" />
<meta property="og:description" content="{{ page.description | default: site.description | strip_html | truncate: 160 }}" />
<meta property="og:url" content="{{ site.baseurl }}{{ page.url | remove: 'index.html' }}" />
<meta property="og:image" content="{{ page.image | default: site.og_image | default: '/images/default-og-image.jpg' | prepend: site.baseurl | prepend: site.url }}" />
<meta property="og:site_name" content="{{ site.title }}" />
<meta property="og:locale" content="{{ site.locale | default: 'en_US' }}" />
<meta property="og:type" content="{{ page.type | default: 'website' }}" />

<!-- Additional valuable Open Graph properties -->
<meta property="article:author" content="{{ page.author | default: site.author }}" />
<meta property="article:published_time" content="{{ page.date | date: '%Y-%m-%dT%H:%M:%S%z' }}" />
<meta property="article:modified_time" content="{{ page.last_modified_at | default: page.date | date: '%Y-%m-%dT%H:%M:%S%z' }}" />
<meta property="article:section" content="{{ page.category | default: 'General' }}" />
{% for tag in page.tags %}
<meta property="article:tag" content="{{ tag }}" />
{% endfor %}

<!-- Twitter Card properties -->
<meta name="twitter:card" content="{{ page.twitter_card | default: 'summary_large_image' }}" />
<meta name="twitter:title" content="{{ page.title | default: site.title }}" />
<meta name="twitter:description" content="{{ page.description | default: site.description | strip_html | truncate: 160 }}" />
<meta name="twitter:site" content="{{ site.twitter | default: '@yoursite' }}" />
<meta name="twitter:image" content="{{ page.image | default: site.og_image | default: '/images/default-og-image.jpg' | prepend: site.baseurl | prepend: site.url }}" />
<meta name="twitter:image:alt" content="{{ page.image_alt | default: site.title }}" />
<meta name="twitter:creator" content="{{ page.twitter_author | default: site.twitter | default: '@yoursite' }}" />

<!-- Additional Twitter Card properties -->
<meta name="twitter:domain" content="{{ site.url | remove: 'http://' | remove: 'https://' }}" />
<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="{{ page.author | default: site.author }}" />
{% if page.date %}
<meta name="twitter:label2" content="Published on" />
<meta name="twitter:data2" content="{{ page.date | date: '%b %d, %Y' }}" />
{% endif %}

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "{% if page.layout == 'post' %}BlogPosting{% elsif page.schema_type %}{{ page.schema_type }}{% else %}WebSite{% endif %}",
    "headline": "{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}",
    "description": "{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}",
    "url": "{{ page.url | absolute_url }}",
    {% if page.image %}"image": "{{ page.image | absolute_url }}",{% elsif site.image %}"image": "{{ site.image | absolute_url }}",{% endif %}
    {% if page.date %}"datePublished": "{{ page.date | date_to_xmlschema }}",{% endif %}
    {% if page.modified_date %}"dateModified": "{{ page.modified_date | date_to_xmlschema }}",{% elsif page.last_modified_at %}"dateModified": "{{ page.last_modified_at | date_to_xmlschema }}",{% endif %}
    "author": {
      "@type": "Person",
      "name": "{% if page.author %}{{ page.author }}{% elsif site.author %}{{ site.author }}{% endif %}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ site.title }}",
      {% if site.logo %}"logo": {
        "@type": "ImageObject",
        "url": "{{ site.logo | absolute_url }}"
      },{% endif %}
      "url": "{{ site.url }}"
    }
  }
  </script>

  <!-- Dublin Core -->
  {% if site.enable_dublin_core %}
  <meta name="DC.title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta name="DC.creator" content="{% if page.author %}{{ page.author }}{% elsif site.author %}{{ site.author }}{% endif %}">
  <meta name="DC.subject" content="{% if page.keywords %}{{ page.keywords }}{% endif %}">
  <meta name="DC.description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
  <meta name="DC.publisher" content="{{ site.title }}">
  <meta name="DC.contributor" content="{% if page.author %}{{ page.author }}{% elsif site.author %}{{ site.author }}{% endif %}">
  {% if page.date %}<meta name="DC.date" content="{{ page.date | date_to_xmlschema }}">{% endif %}
  <meta name="DC.type" content="Text">
  <meta name="DC.format" content="text/html">
  <meta name="DC.identifier" content="{{ page.url | absolute_url }}">
  <meta name="DC.language" content="{% if page.lang %}{{ page.lang }}{% elsif site.lang %}{{ site.lang }}{% else %}en{% endif %}">
  {% if site.dc_rights %}<meta name="DC.rights" content="{{ site.dc_rights }}">{% endif %}
  {% endif %}

<!-- To be deployed
  RSS Feed 
  % feed_meta %
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | absolute_url }}">
  {% if site.atom_feed %}<link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ site.atom_feed | absolute_url }}">{% endif %}
  {% if site.json_feed %}<link rel="alternate" type="application/json" title="{{ site.title }}" href="{{ site.json_feed | absolute_url }}">{% endif %}
  
   Sitemap
  {% if site.url %}<link rel="sitemap" type="application/xml" title="Sitemap" href="{{ '/sitemap.xml' | absolute_url }}">{% endif %}
-->
  <!-- Author & Copyright -->
  {% if page.author_link %}<link rel="author" href="{{ page.author_link }}">{% elsif site.author_link %}<link rel="author" href="{{ site.author_link }}">{% endif %}
  {% if site.license %}<link rel="license" href="{{ site.license }}">{% endif %}
  {% if site.copyright %}<meta name="copyright" content="{{ site.copyright }}">{% endif %}